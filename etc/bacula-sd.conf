#
# Configuracao base do Storage Daemon
#
Storage {                             # definition of myself
  Name = bacula-sd
  SDPort = 9103                  # Director's port
  WorkingDirectory = "/opt/bacula/working"
  Pid Directory = "/opt/bacula/working"
  Plugin Directory = "/opt/bacula/plugins"
  Maximum Concurrent Jobs = 20
}
#
# Configuracao do Director
#
Director {
  Name = bacula-dir
  Password = "l2JSrv-Nu5lgPrNMYh0r2jFM6aYdPxWhO"
}

Director {
  Name = bacula-mon
  Password = "eE5PUA5tonNv1ewEF2zT2VxQL-kXM7GX7"
  Monitor = yes
}

#
# Virtual autochanger 1
#
Autochanger {
  Name = Bacula-sd-autochanger1
  Device = Bacula-sd-Autochanger1-File-device1, Bacula-sd-Autochanger1-File-device2
  Changer Command = ""
  Changer Device = /dev/null
}
#
# Devices do Autochanger 1
#
Device {
  Name = Bacula-sd-Autochanger1-File-device1
  Media Type = File-1
  Archive Device = /var/lib/bacula
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Autochanger = yes;
  Maximum Concurrent Jobs = 10
}

Device {
  Name = Bacula-sd-Autochanger1-File-device2
  Media Type = File-1
  Archive Device = /var/lib/bacula
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Autochanger = yes;
  Maximum Concurrent Jobs = 10
}

#
# Virtual autochanger 2
#
Autochanger {
  Name = Bacula-sd-autochanger2
  Device = Bacula-sd-Autochanger2-File-device1, Bacula-sd-Autochanger2-File-device2
  Changer Command = ""
  Changer Device = /dev/null
}
#
# Devices do autochanger 2
#
Device {
  Name = Bacula-sd-Autochanger2-File-device1
  Media Type = File-2
  Archive Device = /var/lib/bacula
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Autochanger = yes;
  Maximum Concurrent Jobs = 10
}

Device {
  Name = Bacula-sd-Autochanger2-File-device2
  Media Type = File-2
  Archive Device = /var/lib/bacula
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Autochanger = yes;
  Maximum Concurrent Jobs = 10
}
#
# Device exclusivo para Restore
#
Device {
  Name = Restore-File-device1
  Media Type = FileRestore-1
  Archive Device = /var/lib/bacula
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Autochanger = yes;
  Maximum Concurrent Jobs = 10
}

#
# Storages em Nuvem
#

# BUCKET - ufs-teste
#
Cloud {
  Name = "RNP-BucketTeste-cloud"
  Driver = "S3"
  HostName = "vsa-00000008-public-br-rnpbsb-01.zadarazios.com"
  Region = "us-east-1"
  BucketName = "ufs-teste"
  AccessKey = "afc8a81ac3964d049d4bedd484617655"
  SecretKey = "23d0308a8d3e477b85ede16c1b76aa4a"
  Protocol = HTTPS
  UriStyle = path
  Truncate Cache = AtEndOfJob
  Upload = EachPart
}

Device {
  Name = "RNP-BucketTeste-Cloud-device1"
  Device Type = Cloud
  Cloud = "RNP-BucketTeste-cloud"
  Archive Device = "/backup/teste"
  Maximum Part Size = 512 MB
  Media Type = Cloud-1
  LabelMedia = yes
  Random Access = yes
  AutomaticMount = yes
  RemovableMedia = no
  AlwaysOpen = no
}

# BUCKET - ufs-criticos
#
Cloud {
  Name = "RNP-BucketCritico-cloud"
  Driver = "S3"
  HostName = "vsa-00000008-public-br-rnpbsb-01.zadarazios.com"
  Region = "us-east-1"
  BucketName = "ufs-critico"
  AccessKey = "afc8a81ac3964d049d4bedd484617655"
  SecretKey = "23d0308a8d3e477b85ede16c1b76aa4a"
  Protocol = HTTPS
  UriStyle = path
  Truncate Cache = AtEndOfJob
  Upload = EachPart
  # MaximumUploadBandwidth = 5MB/s # Optional
}
Device {
  Name = "RNP-BucketCritico-Cloud-device1"
  Device Type = Cloud
  Cloud = "RNP-BucketCritico-cloud"
  Archive Device = "/backup/critic"
  Maximum Part Size = 512 MB
  Media Type = Cloud-2
  LabelMedia = yes
  Random Access = yes
  AutomaticMount = yes
  RemovableMedia = no
  AlwaysOpen = no
}

# BUCKET - ufs-nao-criticos
#
Cloud {
  Name = "RNP-BucketNaoCritico-cloud"
  Driver = "S3"
  HostName = "vsa-00000008-public-br-rnpbsb-01.zadarazios.com"
  Region = "us-east-1"
  BucketName = "ufs-nao-critico"
  AccessKey = "afc8a81ac3964d049d4bedd484617655"
  SecretKey = "23d0308a8d3e477b85ede16c1b76aa4a"
  Protocol = HTTPS
  UriStyle = path
  Truncate Cache = AtEndOfJob
  Upload = EachPart
  # MaximumUploadBandwidth = 5MB/s # Optional
}
Device {
  Name = "RNP-BucketNaoCritico-Cloud-device1"
  Device Type = Cloud
  Cloud = "RNP-BucketNaoCritico-cloud"
  Archive Device = "/backup/no-critic"
  Maximum Part Size = 512 MB
  Media Type = Cloud-3
  LabelMedia = yes
  Random Access = yes
  AutomaticMount = yes
  RemovableMedia = no
  AlwaysOpen = no
}

#
# Send all messages to the Director,
#
Messages {
  Name = Standard
  director = bacula-dir = all
}
